<div class="">
    <app-rounded-card>
        <div class="orders">
            <div class="d-flex">
                <h2 class="orderTitle">
                    {{'Order Infomation'|translate}}
                </h2>
                <!-- <div class="p-l-10 ml-auto">
                <button class="btn btn-primary" [routerLink]="['/buy']" routerLinkActive="router-link-active" >
                    {{'Create Order'|translate}}
                </button>
            </div> -->
            </div>
            <div class="mt-3">
                <div class="row">
                    <div class="col-md-12 order-table-con">
                        <table id="order-table" class=" order-table hide600">
                            <thead>
                                <tr>
                                    <th scope="col" class="noMobile">{{'Created At'|translate}}</th>
                                    <th scope="col" class="noMobile">{{'No.'|translate}}</th>
                                    <th scope="col " class="bondId">{{'Bond ID'|translate}}</th>
                                    <th scope="col">{{'Quantity'|translate}}</th>
                                    <th scope="col">{{'Status'|translate}}</th>
                                    <th scope="col">{{'Operate' | translate}}</th>

                                </tr>
                            </thead>
                            <tbody *ngIf="isLoaded">
                                <tr *ngFor="let item of orders">
                                    <td class="noMobile">
                                        <span *ngIf="currentLanguage == 'en'">
                                            {{item.created_at | date:'medium'}}
                                        </span>
                                        <span *ngIf="currentLanguage != 'en'">
                                            <!-- format date as chinese format -->
                                            {{item.created_at | date:'yyyy-MM-dd HH:mm:ss'}}
                                        </span>

                                    </td>
                                    <td class="noMobile">
                                        <a (click)="goToOrderDetail(item._id)">{{item._id}}</a>
                                    </td>
                                    <td class="bondId">
                                        <img class="bondIcon" *ngIf="item.bondId.symbol == 'DNB'"
                                            src="/assets/images/DNB.png" alt="bond">
                                        <img class="bondIcon" *ngIf="item.bondId.symbol == 'XDNB'"
                                            src="/assets/images/XDNB.png" alt="bond">
                                        <div>{{item.bondId.symbol}}</div>
                                        <div class="onlyMobile">
                                            {{item.created_at | date:'medium'}}
                                        </div>
                                    </td>
                                    <td>{{item.quantity}}</td>
                                    <td>{{(item.status == 'Pending' || item.status
                                        == 'Confirmed by User'?'Pending' :item.status) | translate}}</td>
                                    <td>
                                        <div *ngIf="item.status == 'Pending' || item.status == 'Confirmed by User'">
                                            <button class="btn btn-primary btn-sm statusBtn rounded-pill "
                                                (click)="goToPay(item._id)">
                                                {{'Pay' | translate}}
                                            </button>
                                        </div>
                                        <div *ngIf="item.status != 'Pending' && item.status != 'Confirmed by User'">
                                            <button class="btn btn-light btn-sm statusBtn rounded-pill"
                                                (click)="goToOrderDetail(item._id)">
                                                {{'View' | translate}}
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <!-- <tr class="onlyMobile">
                                    <td class="">
                                        <img class="bondIcon" *ngIf="item.bondId.symbol == 'DNB'"
                                            src="/assets/images/DNB.png" alt="bond">
                                        <img class="bondIcon" *ngIf="item.bondId.symbol == 'XDNB'"
                                            src="/assets/images/XDNB.png" alt="bond">
                                        {{item.bondId.symbol}}
                                    </td>
                                    <td class="">{{item.quantity}}</td>

                                </tr>
                                <tr class="onlyMobile">
                                    <td class="">{{item.status == 'Pending' || item.status == 'Confirmed by
                                        User'?'Pending'
                                        :item.status}}</td>
                                    <td class="">
                                        <div *ngIf="item.status == 'Pending' || item.status == 'Confirmed by User'">
                                            <button class="btn btn-primary btn-sm statusBtn rounded-pill "
                                                (click)="goToPay(item._id)">
                                                {{'Pay'|translate}}
                                            </button>
                                        </div>
                                        <div *ngIf="item.status != 'Pending' && item.status != 'Confirmed by User'">
                                            <button class="btn btn-light btn-sm statusBtn rounded-pill"
                                                (click)="goToOrderDetail(item._id)">
                                                {{'View'|translate}}
                                            </button>
                                        </div>
                                    </td>
                                </tr> -->

                            </tbody>
                        </table>

                        <table id="order-table" class=" order-table show600">
                            <tr *ngFor="let item of orders" class="orderRow">
                                <div>
                                    {{item.created_at | date:'medium'}}
                                </div>


                                <div>
                                    <a (click)="goToOrderDetail(item._id)">{{item._id}}</a>
                                </div>
                                <div>
                                    <img class="bondIcon" *ngIf="item.bondId.symbol == 'DNB'"
                                        src="/assets/images/DNB.png" alt="bond">
                                    <img class="bondIcon" *ngIf="item.bondId.symbol == 'XDNB'"
                                        src="/assets/images/XDNB.png" alt="bond">
                                    <div>{{item.bondId.symbol}}</div>
                                </div>
                                <div>
                                    <span>{{'Quantity'|translate}}: </span>{{item.quantity}}
                                </div>
                                <div>
                                    <span>{{'Status'|translate}}: </span>{{(item.status == 'Pending' || item.status ==
                                    'Confirmed by
                                    User'?'Pending':item.status) | translate}}
                                </div>
                                <div>
                                    <div *ngIf="item.status == 'Pending' || item.status == 'Confirmed by User'">
                                        <button class="btn btn-primary btn-sm statusBtn rounded-pill "
                                            (click)="goToPay(item._id)">
                                            {{'Pay'|translate}}
                                        </button>
                                    </div>
                                    <div *ngIf="item.status != 'Pending' && item.status != 'Confirmed by User'">
                                        <button class="btn btn-light btn-sm statusBtn rounded-pill"
                                            (click)="goToOrderDetail(item._id)">
                                            {{'View'|translate}}
                                        </button>
                                    </div>
                                </div>
                            </tr>
                        </table>


                        <!-- if orders length is 0 or null -->
                        <!-- <div class="d-flex justify-content-center"> -->
                        <div class="d-flex justify-content-center" *ngIf="orders?.length == 0 || !orders">
                            <div class="p-5">
                                <!-- <img src="/assets/images/noData.png" alt="no data"> -->
                                <div class="mt-3">
                                    <span class="t-grey">{{'No Data'|translate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-center mt-5" *ngIf="orders?.length > 0">
                            <button class="px-2 btn btn-primary btn-sm rounded-pill" (click)="prev()">
                                {{'Prev'|translate}}
                            </button>
                            <!-- display current page number -->
                            <div class="px-2">
                                <a>{{pageNumber +1}}</a>
                            </div>
                            <button class="px-2 btn btn-primary btn-sm rounded-pill" (click)="next()">
                                {{'Next'|translate}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </app-rounded-card>
</div>